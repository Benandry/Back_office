{% extends 'base.html.twig' %}

{% block title %}
	{{ parent() }}
	: Profil de
	{{ employee.firstname }}
{% endblock %}

{% block body %}
	<div class="bg-white rounded-lg shadow-md p-6">
		<div class="relative group flex items-center justify-center mb-6">
			{# Image de profil #}
			{# Si l'image existe, on l'affiche, sinon on affiche une image par défaut #}
				{% if employee.imageName is not null %}
				<img src="{{ vich_uploader_asset(employee, 'imageFile') }}" alt="{{ employee.firstname }} {{ employee.lastname }}" class="rounded-full w-40 h-40 object-cover border-4 border-blue-100 shadow-lg transition-transform duration-300 group-hover:scale-105 group-hover:border-blue-200">
			{% else %}
				<div class="relative rounded-full w-40 h-40 bg-gray-100 flex items-center justify-center border-4 border-gray-200 shadow-lg">
					<svg class="w-20 h-20 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
					</svg>
				</div>
			{% endif %}
		</div>

		{# Badge "Profil" apparaissant au hover #}
		<div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
			<span class="bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium shadow-md">
				Profil
			</span>
		</div>


		{# En-tête du profil #}
		<div class="text-center mb-8">
			<h1 class="text-xl font-bold text-gray-800">
				{{ employee.firstname }}
				{{ employee.lastname }}
			</h1>
			<p class="text-gray-600 mt-2">Poste :
				{{ employee.poste.name }}</p>
		</div>

		<div
			class="flex flex-col md:flex-row justify-between items-start">
			{# Bloc Informations personnelles #}
			<div class="w-full md:w-1/2 mb-6 md:mb-0">
				<h3 class="text-lg font-bold text-gray-800 mb-4">Informations personnelles</h3>
				<div class="mb-4">
					<p class="text-sm text-gray-500">Nom</p>
					<p class="font-medium">{{ employee.firstname }}</p>
				</div>
				<div class="mb-4">
					<p class="text-sm text-gray-500">Prénom</p>
					<p class="font-medium">{{ employee.lastname }}</p>
				</div>
				<div class="mb-4">
					<p class="text-sm text-gray-500">CIN</p>
					<p class="font-medium">{{ employee.cin }}</p>
				</div>
				<div class="mb-4">
					<p class="text-sm text-gray-500">Date de naissance</p>
					<p class="font-medium">{{ employee.dateOfBirth|date('d/m/Y') }}</p>
				</div>
			</div>

			{# Bloc Informations professionnelles #}
			<div class="w-full md:w-1/2 mb-6 md:mb-0">
				<h3 class="text-lg font-bold text-gray-800 mb-4">Informations professionnelles</h3>
				<div class="mb-4">
					<p class="text-sm text-gray-500">Salaire</p>
					<p class="font-medium">{{ employee.salary }}</p>
				</div>
				<div class="mb-4">
					<p class="text-sm text-gray-500">Poste</p>
					<p class="font-medium">{{ employee.poste.name }}</p>
				</div>
				<div class="mb-4">
					<p class="text-sm text-gray-500">Département</p>
					<p class="font-medium">{{ employee.poste.departement.name }}</p>
				</div>
			</div>

			{# Bloc Adresse et contact #}
			<div class="w-full md:w-1/2 mb-6 md:mb-0">
				<h3 class="text-lg font-bold text-gray-800 mb-4">Adresse et contact</h3>
				<div class="mb-4">
					<p class="text-sm text-gray-500">Adresse</p>
					<p class="font-medium">{{ employee.adresse }}</p>
				</div>
				<div class="mb-4">
					<p class="text-sm text-gray-500">Téléphone</p>
					<p class="font-medium">{{ employee.phoneNumber }}</p>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
